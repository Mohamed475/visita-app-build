"use strict";(self.webpackChunktemplete_react_app=self.webpackChunktemplete_react_app||[]).push([[848],{6050:function(e,n,t){var o,r=t(168),i=(t(2791),t(6031)),a=t(8590),s=t(184),c=i.ZP.div(o||(o=(0,r.Z)(["\n  height: 70vh;\n  font-size: 4rem;\n  font-weight: 600;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 1.5rem;\n"])));n.Z=function(e){return(0,s.jsxs)(c,{children:[(0,s.jsx)("p",{children:e.errorMessage||"There is no place!"}),e.buttonText&&e.to&&(0,s.jsx)(a.Z,{to:e.to||"/",children:e.buttonText||"HOME"})]})}},1848:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var o,r,i,a,s=t(5861),c=t(885),l=t(168),d=t(7757),u=t.n(d),p=t(2791),m=t(8931),f=t(6031),h=t(8590),g=t(95),x=t(184),v=f.ZP.div(o||(o=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: 768px) {\n    width: 50vw;\n  }\n"]))),w=function(e){var n=(0,p.useRef)(),t=e.location,o=t.lat,r=t.lng;return(0,p.useEffect)((function(){var e=new window.google.maps.Map(n.current,{center:{lat:+o,lng:+r},zoom:10});new window.google.maps.Marker({position:{lat:+o,lng:+r},map:e})}),[o,r]),window.google?(0,x.jsx)(v,{ref:n,children:"Map"}):(0,x.jsx)("div",{children:"Something went wrong, unable to display the map!"})},b=t(5112),j=t(3108),_=f.ZP.li(r||(r=(0,l.Z)(["\n  width: 40vw;\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);\n  border-radius: 1rem;\n  text-align: center;\n  overflow: hidden;\n  background-color: #fff;\n\n  &:not(:last-child) {\n    margin-bottom: 5rem;\n  }\n\n  .place-item__image {\n    flex: 1;\n    height: 30rem;\n    overflow: hidden;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .place-item__info {\n    padding: 4rem 0 3rem;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    gap: 1.5rem;\n    border-bottom: 0.1rem solid #000;\n\n    .place-item__name {\n      font-style: italic;\n      font-weight: 600;\n      font-size: 3rem;\n    }\n\n    .place-item__address {\n      font-size: 1.9rem;\n      font-weight: 500;\n    }\n\n    .place-item__description {\n      font-size: 1.6rem;\n      padding: 0 2rem;\n    }\n\n    .place-item__rating {\n      font-size: 3rem;\n    }\n\n    .place-item__rating--error {\n      font-size: 2.3rem;\n      font-weight: 500;\n    }\n  }\n\n  .place-item__actions {\n    padding: 3rem 0;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Rsponsive */\n  @media (max-width: 768px) {\n    width: 80vw;\n  }\n"]))),Z=function(e){var n,t=(0,p.useContext)(j.V),o=t.isAuthenticated,r=t.userId,i=t.token,a=(0,p.useState)(!1),l=(0,c.Z)(a,2),d=l[0],m=l[1],f=(0,p.useState)(!1),v=(0,c.Z)(f,2),Z=v[0],k=v[1],y=function(){k(!1)},C=function(){var n=(0,s.Z)(u().mark((function n(){var t,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://visita.onrender.com/api/v1","/places/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}});case 3:return t=n.sent,n.next=6,t.json();case 6:(o=n.sent).error&&console.log(o.error),e.onDelete(e.id),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:y();case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}();return(0,x.jsxs)(_,{className:"place-item",children:[d&&(0,x.jsx)(g.Z,{closeModal:function(){m(!1)},show:d,buttonText:"Close",width:"45vw",widthResponsive:"80vw",height:"50vh",heightResponsive:"40vh",button:!0,modalPadding:"0",modalBorder:"2px solid #fafafa",buttonBackgroundColor:"#fff",buttonBackgroundColorHover:"#000",buttonTextColor:"#000",buttonTextColorHover:"#fff",buttonFontSize:"1.5rem",children:(0,x.jsx)(w,{location:e.coordinates})||"Unable to display the map!"}),Z&&(0,x.jsx)(g.Z,{show:Z,closeModal:y,width:"30vw",height:"20vh",widthResponsive:"80vw",heightResponsive:"20vh",modalBackgroundColor:"#fff",modalTextColor:"#000",modalFontSize:"2.2rem",modalBorderRadius:"10px",modalBorder:"1px solid #fff",modalPadding:"0 0 3rem 0",overlayBackgroundColor:"rgba(0,0,0,0.65)",button:!0,buttonText:"confirm",buttonBackgroundColor:"#830000",buttonBackgroundColorHover:"salmon",buttonTextColor:"#fff",buttonTextColorHover:"#fff",buttonOnClick:C,children:"Are you sure you want to remove this place?"}),(0,x.jsx)("div",{className:"place-item__image",children:(0,x.jsx)("img",{src:e.imageURL?"".concat("https://visita.onrender.com","/").concat(e.imageURL):"https://images.unsplash.com/photo-1543783207-ec64e4d95325?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bWFkcmlkfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60",alt:e.placeName})}),(0,x.jsxs)("div",{className:"place-item__info",children:[(0,x.jsxs)("h2",{className:"place-item__name",children:[e.placeName," \u2705"]}),(0,x.jsx)("p",{className:"place-item__address",children:e.address}),(0,x.jsx)("p",{className:"place-item__description",children:e.description}),(n=e.rating,n<=0?(0,x.jsx)("span",{className:"place-item__rating--error",children:"No Rating!"}):(0,x.jsx)(b.Z,{count:n,value:n,edit:!1,isHalf:!0}))]}),(0,x.jsxs)("div",{className:"place-item__actions",children:[(0,x.jsx)(h.Z,{onClick:function(e){e.preventDefault(),m(!0)},children:"VIEW ON MAP"}),o&&r===e.creatorId&&(0,x.jsx)(h.Z,{to:"/".concat(e.creatorId,"/places/").concat(e.id),children:"EDIT"}),o&&r===e.creatorId&&(0,x.jsx)(h.Z,{danger:!0,onClick:function(){k(!0)},children:"REMOVE"})]})]})},k=f.ZP.div(i||(i=(0,l.Z)(["\n  list-style-type: none;\n\n  /* Responsive */\n  @media (max-width: 768px) {\n    margin-top: 10rem;\n  }\n"]))),y=function(e){return(0,x.jsx)(k,{children:e.places.map((function(n){return(0,x.jsx)(Z,{id:n.id,imageURL:n.image,placeName:n.title,description:n.description,address:n.address,coordinates:n.coordinates,creatorId:n.creator,rating:n.rating,location:n.location,onDelete:e.onDelete},n.id)}))})},C=t(1287),T=t(6050),M=f.ZP.div(a||(a=(0,l.Z)(["\n  min-height: 100vh;\n  padding: 10rem 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .error-msg {\n    color: red;\n    font-size: 2.2rem;\n  }\n"]))),D=function(){var e=(0,p.useState)([]),n=(0,c.Z)(e,2),t=n[0],o=n[1],r=(0,p.useState)(!0),i=(0,c.Z)(r,2),a=i[0],l=i[1],d=(0,p.useState)(null),f=(0,c.Z)(d,2),h=(f[0],f[1]),g=(0,m.UO)().userId,v=(0,p.useContext)(j.V).userId,w=function(){var e=(0,s.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,fetch("".concat("https://visita.onrender.com/api/v1","/places/user/").concat(g));case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,n.ok&&!t.error||h(t.error.message),t.places?o(t.places):h("There is no places to display!"),l(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),h(e.t0.message),l(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),r=t.filter((function(e){return e.id!==n})),o(r),l(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){w()}),[g]),(0,x.jsxs)(M,{children:[a?(0,x.jsx)(C.Z,{isVisable:!0,color:"#3498db",backgroundColor:"#f3f3f3",size:".5",widthAndHeight:"4",speedInSecond:".6"}):(0,x.jsx)(y,{places:t,userId:g,onDelete:b}),a||0!==t.length&&t?"":v===g?(0,x.jsx)(T.Z,{errorMessage:"There is no places to show!",buttonText:"ADD NEW PLACE",to:"/places/new"}):(0,x.jsx)(T.Z,{errorMessage:"There is no places to show!"})]})}}}]);
//# sourceMappingURL=848.f4b0d765.chunk.js.map